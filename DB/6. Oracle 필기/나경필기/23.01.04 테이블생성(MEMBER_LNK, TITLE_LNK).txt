
- (1)
create table MEMBER_LNK
(MEMBER_ID number(10) CONSTRAINT MEMBER_ID_PK primary key,
 LAST_NAME varchar2(25) CONSTRAINT LAST_NAME_NN not null,
 FIRST_NAME varchar2(25),
 ADDRESS varchar2(100),
 CITY varchar2(30),
 PHONE varchar2(15),
 JOIN_DATE date  default(sysdate) CONSTRAINT JOIN_DATE_NN not null
);


- (2)
create table TITLE_LNK
(TITLE_ID number(10) CONSTRAINT TITLE_ID_PK primary key,
 TITLE varchar2(60) CONSTRAINT TITLE_NN not null,
 DESCRIPTION varchar2(400) CONSTRAINT DESCRIPTION_NN not null,
 RATING varchar2(4) CONSTRAINT RATING_CK check (RATING in 'G', 'PG', 'R', 'NC17', 'NR'),
 CATEGORY varchar(20) CONSTRAINT CATEGORY_CK check (CATEGORY in 'DRAMA', 'COMEDY', 'ACTION', 'CHILD', 'SCIFI', 'DOCUMENTARY'),
 RELEASE_DATE date
);


- (3)
CREATE TABLE TITLE_COPY_LNK
(COPY_ID NUMBER(10),
 CONSTRAINT COPY_ID_PK PRIMARY KEY(COPY_ID, TITLE_ID),
 TITLE_ID NUMBER(10) CONSTRAINT TITLE_FK REFERENCES TITLE_LNK(TITLE_ID),
 STATUS VARCHAR(15)
 CONSTRAINT STATUS_CK CHECK(STATUS IN ('AVALIABLE', 'DESTROYED', 'RENTED', 'RESERVED'))
 CONSTRAINT STATUS_NN NOT NULL
);


- (4)
create table RENTAL_LNK
(BOOK_DATE DATE DEFAULT SYSDATE,
 CONSTRAINT BOOK_DATE_PK PRIMARY KEY(BOOK_DATE, MEMBER_ID, COPY_ID, TITLE_ID),
 MEMBER_ID NUMBER(10) CONSTRAINT MEMBER_ID_FK REFERENCES MEMBER_LNK(MEMBER_ID),
 COPY_ID NUMBER(10),
 ACT_RET_DATE DATE,
 EXP_RET_DATE DATE DEFAULT SYSDATE+2,
 TITLE_ID NUMBER(10),    <= 테이블 레벨의 문법이라 ,를 써줌
 CONSTRAINT COPY_ID_FK FOREIGN KEY(COPY_ID, TITLE_ID) REFERENCES TITLE_COPY_LNK(COPY_ID, TITLE_ID)
);


- (5)
CREATE TABLE RESERVATION_LNK
(RES_DATE DATE,
 CONSTRAINT RMT_PK PRIMARY KEY(RES_DATE, MEMBER_ID, TITLE_ID),  <= CONSTRAINT뒤에는 컬럼명(내맘대로)
 MEMBER_ID NUMBER(10)
 CONSTRAINT MEMBERID_FK REFERENCES MEMBER_LNK(MEMBER_ID),  <= 얘는 컬럼레벨의 문법이라 ,를 안씀
 TITLE_ID NUMBER(10),
 CONSTRAINT TITLEID_FK REFERENCES TITLE_LNK(TITLE_ID) <= 얘도 컬럼레벨의 문법
);























